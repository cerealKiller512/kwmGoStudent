<h1>Nachhilfe-Formular</h1>
<hr>
<form class="form-group" [formGroup]="subjectForm" (ngSubmit)="submitForm()">
  <div class="form-row">
    <input type="hidden" formControlName="id">
    <div class="field">
      <label>Nachhilfe-Angebot-Titel</label>
      <br>
      <input formControlName="title">
      <div *ngIf="errors['title']">
        {{errors['title']}}
      </div>
    </div>

    <hr>

    <select formControlName="categoryId">
      <option [ngValue]="null" disabled>Choose your category</option>
      <option *ngFor="let cat of categories" [ngValue]="cat.id">
        {{ cat.name }}
      </option>
    </select>


    <select formControlName="levelId">
      <option [ngValue]="null" disabled>Choose your level</option>
      <option *ngFor="let level of levels" [ngValue]="level.id">
        {{ level.level }}
      </option>
    </select>
  </div>

  <div class="form-group col-md-6">
    <label for="description">Beschreibung</label>
    <textarea formControlName="description" id="description" class="form-control" placeholder="Beschreibung">
    </textarea>
    <hr>
  </div>


  <div class="form-group col-md-6" [class.disabled]="isUpdatingSubject">
    <label for="id">ID</label>
    <input formControlName="id" id="id" class="form-control" placeholder="10">
    <div *ngIf="errors['id']" class="ui negative message">{{ errors['id'] }}
    </div>

    <hr>

  </div>
  <div class="form-group col-md-6">
    <label type="date">Erscheinungsdatum</label>
    <input type="date" formControlName="published">
    <div *ngIf="errors['published']" class="ui negative message">{{ errors['published'] }}</div>
    <hr>
  </div>



  <!-- TODO: add appointments to form!-->


  <div class="field">
    <label>Termine</label>
    <div formControlName="appointments">
      <div *ngFor="let appointment of subject.appointments last as l">
        <div>
          <label>Tag:</label>
          <input formControlName="day" placeholder="Montag" value="{{appointment.day}}">
        </div>
        <div>
          <label>Von:</label>
          <input formControlName="from" placeholder="08:00:00"
          value="{{appointment.from}}">
        </div>
        <div>
          <label>Bis:</label>
          <input formControlName="to" placeholder="12:00:00"
          value="{{appointment.to}}">
        </div>
        <div *ngIf="l">
          <button (click)="addAppointmentControl()" type="button">+</button>
        </div>
      </div>
    </div>
  </div>
  <div *ngIf="errors['appointments']">{{errors['appointments']}}</div>


  <button type="submit" class="btn btn-primary"
          [disabled]="subjectForm.invalid">Speichern</button>

</form>
